(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{99:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return b}));var n=a(1),l=(a(0),a(134));const i={id:"gitalk",title:"\u8f6c-\u5982\u4f55\u7ed9Docusaurus\u6dfb\u52a0Gitalk\u63d2\u4ef6",author:"banli17",author_title:"banli17 @ github",author_url:"https://github.com/banli17",author_image_url:"https://avatars1.githubusercontent.com/u/12556069?s=400&u=8a4637a78664eaf5580e1ef4ec1faa4424d9060a&v=4",tags:["gitalk","docusaurus"]},c={permalink:"/blog/gitalk",source:"@site/blog/2020-03-14-gitalk.md",description:"## \u6dfb\u52a0\u8bc4\u8bba\u529f\u80fd gitalk",date:"2020-03-14T00:00:00.000Z",tags:[{label:"gitalk",permalink:"/blog/tags/gitalk"},{label:"docusaurus",permalink:"/blog/tags/docusaurus"}],title:"\u8f6c-\u5982\u4f55\u7ed9Docusaurus\u6dfb\u52a0Gitalk\u63d2\u4ef6",truncated:!0,prevItem:{title:"Welcome to CAN Studio",permalink:"/blog/welcome"}},o=[{value:"\u6dfb\u52a0\u8bc4\u8bba\u529f\u80fd gitalk",id:"\u6dfb\u52a0\u8bc4\u8bba\u529f\u80fd-gitalk",children:[]}],r={rightToc:o};function b({components:e,...t}){return Object(l.b)("wrapper",Object(n.a)({},r,t,{components:e,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"\u6dfb\u52a0\u8bc4\u8bba\u529f\u80fd-gitalk"},"\u6dfb\u52a0\u8bc4\u8bba\u529f\u80fd gitalk"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"\u9996\u5148\u8981\u5c06\u6a21\u7248\u7ec4\u4ef6\u5f39\u51fa\uff0c\u7136\u540e\u518d\u8fdb\u884c\u4fee\u6539\u3002\u6a21\u7248\u7ec4\u4ef6\u518d",Object(l.b)("inlineCode",{parentName:"li"},"node_modules/@docusaurus/theme-classic"),"\u4e0b\u3002")),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{}),"npm run swizzle @docusaurus/theme-classic BlogPostPage\nnpm run swizzle @docusaurus/theme-classic DocLegacyItem\n")),Object(l.b)("p",null,"\u4f7f\u7528\u4e0a\u9762\u547d\u4ee4\u540e\uff0c\u6587\u4ef6\u5c06\u4f1a\u5f39\u51fa\u5230\u9879\u76ee\u7684",Object(l.b)("inlineCode",{parentName:"p"},"src/theme"),"\u4e0b\u3002"),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},"\u5728",Object(l.b)("inlineCode",{parentName:"li"},"src/theme"),"\u4e0b\u6dfb\u52a0 GitalkComment.js\u3002\u4ee3\u7801\u5982\u4e0b\uff1a")),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"import React, {Component} from 'react'\nimport 'gitalk/dist/gitalk.css'\nimport Gitalk from 'gitalk'\n\nclass GitalkComment extends Component{\n  componentDidMount(){\n    var gitalk = new Gitalk({\n      clientID: '92f9ff606fd031145a24',\n      clientSecret: '92e5c59ae06a2ce34caeecf85a9d1666a20f36c0',\n      repo: 'blog_comment',  // \u4ed3\u5e93\u540d\u79f0\n      owner: 'banli17',      // \u4ed3\u5e93\u4f5c\u8005\n      admin: ['banli17'],\n      id: location.pathname,      // Ensure uniqueness and length less than 50\n      distractionFreeMode: false  // Facebook-like distraction free mode\n    })\n    \n    gitalk.render('gitalk-container')\n  }\n  render(){\n    return <div id=\"gitalk-container\"></div>\n  }\n}\nexport default GitalkComment;\n")),Object(l.b)("p",null,"\u5177\u4f53\u7684gittalk\u914d\u7f6e\uff0c\u9700\u8981\u5230 ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/settings/applications/new"}),"https://github.com/settings/applications/new")," \u53bb\u6ce8\u518c\u4e00\u4e2a\u5e94\u7528\u3002"),Object(l.b)("p",null,"\u6ce8\u518c\u65f6",Object(l.b)("inlineCode",{parentName:"p"},"Homepage URL"),"\u3001",Object(l.b)("inlineCode",{parentName:"p"},"Authorization callback URL"),"\u90fd\u586b\u5199\u7f51\u7ad9\u57df\u540d\u5373\u53ef\uff0c\u5982",Object(l.b)("inlineCode",{parentName:"p"},"https://www.banli17.com/"),"\u3002"),Object(l.b)("p",null,"\u6ce8\u518c\u5b8c\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u770b\u5230 ID \u4e86\u3002"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"clientID\u3001clientSecret: \u6ce8\u518c\u5e94\u7528\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u3002\u4e5f\u53ef\u4ee5\u5728 github \u7684",Object(l.b)("inlineCode",{parentName:"li"},"settings -> Developer settings -> OAuth Apps"),"\u770b\u5230\u3002"),Object(l.b)("li",{parentName:"ul"},"repo: \u5728 github \u65b0\u5efa\u4e00\u4e2a\u9879\u76ee",Object(l.b)("inlineCode",{parentName:"li"},"blog_comment"),"(\u540d\u5b57\u53ef\u968f\u610f\uff0c\u6ce8\u610f\u586b\u5199\u7684\u4e0d\u662fgithub\u5730\u5740\uff0c\u800c\u662f\u9879\u76ee\u540d)\uff0c\u8bc4\u8bba\u4f1a\u4fdd\u5b58\u5230\u8fd9\u4e2a\u9879\u76ee\u7684 issue \u4e2d\u3002")),Object(l.b)("ol",{start:3},Object(l.b)("li",{parentName:"ol"},"\u63d2\u5165\u4ee3\u7801",Object(l.b)("inlineCode",{parentName:"li"},"<GitalkComment>"),"\u5230\u5408\u9002\u4f4d\u7f6e\u3002")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"src/theme/DocLegacyItem/index.js")),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'<div className="margin-top--xl margin-bottom--lg">\n    <DocLegacyPaginator\n        docsMetadata={docsMetadata}\n        metadata={metadata}\n    />\n    <GitalkComment />   \n</div>\n')),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"src/theme/BolgPostPage/index.js")),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'<div className="margin-vert--xl">\n    <BlogPostPaginator nextItem={nextItem} prevItem={prevItem} />\n    <GitalkComment />\n</div>\n')),Object(l.b)("ol",{start:4},Object(l.b)("li",{parentName:"ol"},"\u53d1\u5e03\u5230\u7ebf\u4e0a\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u8bc4\u8bba\u6846\u3002\u6ce8\u610f\u6bcf\u4e2a\u9875\u9762\u90fd\u9700\u8981\u7ba1\u7406\u5458\u767b\u5f55\u540e\u6253\u5f00\u4e00\u4e0b\uff0c\u5373\u521d\u59cb\u5316\u521b\u5efa\u540e\uff0c\u5176\u5b83\u7528\u6237\u624d\u80fd\u5728\u8fd9\u4e2a\u9875\u9762\u8bc4\u8bba\u3002")))}b.isMDXComponent=!0}}]);